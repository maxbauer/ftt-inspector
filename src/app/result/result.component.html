<div class="container">

  <div style="height: 100%; width: 100%;">

    <div class="row">
      <div class="col-2">
        <a routerLink="../">
          <button mat-icon-button>
            <mat-icon>arrow_back</mat-icon>
          </button>
        </a>
      </div>
      <div class="col-10">
        <mat-form-field appearance="outline" style="width:80%;">
          <mat-label>Search</mat-label>
          <input matInput type="text" [(ngModel)]="textToSearch">
          <button matSuffix mat-icon-button (click)="clearSearchTerm()">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
      </div>
    </div>

    <div class="row">

      <div class="col-3">
        <mat-list>
          <div mat-subheader>Files</div>
          <mat-list-item *ngFor="let file of filesToAnalyze" matTooltip="{{file.name}}" (click)="selectFile(file)">
            <mat-icon *ngIf="isImage(file)" mat-list-icon>image</mat-icon>
            <mat-icon *ngIf="isPDF(file)" mat-list-icon>picture_as_pdf</mat-icon>
            <div mat-line>{{file.name}}</div>
          </mat-list-item>
        </mat-list>
      </div>


      <div class="col-8 text-block-container">
        <app-image-to-text-component *ngFor="let file of filesToAnalyze" [hidden]="!isFileSelected(file)" [file]="file" [searchTerm]="textToSearch" [isVisible]="isFileSelected(file)"></app-image-to-text-component>
      </div>

      <div class="col-1">
        <button mat-raised-button (click)="exportFile()">
          <!-- <mat-icon>text_snippet</mat-icon> -->
          Export
        </button>
      </div>

    </div>



  </div>
  <!-- <ng-template #showSpinner>
    <h1 class="title">
      Analyzing...
    </h1>
    <mat-spinner></mat-spinner>
  </ng-template> -->

</div>